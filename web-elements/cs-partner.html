<!doctype html>
<html>
	<template>
	<style>
	img
	{
		height: 40px;
		transition: 400ms all;
	}

	img:hover
	{
		filter: drop-shadow(0px 0px 12px {{color}});
		-ms-filter: drop-shadow(0px 0px 12px {{color}});
		-webkit-filter: drop-shadow(0px 0px 12px {{color}});
		transition: 400ms all;
	}
	</style>
	<div class="container">
		<A href="https://{{url}}/"><img src="./imgs/partners/{{name}}.{{format}}" alt="{{name}}" title="{{name}}"></A>
	</div>
	</template>
	<script>
		var CsPartner = Object.create(HTMLElement.prototype);
		var CsPartnerTemplate = document.currentScript.ownerDocument.getElementsByTagName("TEMPLATE")[0].innerHTML;
		
		var applyTemplate = function(element, t, item) {
			var r = t;
			if (element.hasAttribute(item)) {
				while (r.indexOf("{{" + item + "}}") != -1) {
					r = r.replace("{{" + item + "}}", element.getAttribute(item));
				}
				return r;
			}
			return r;
		};
		
		CsPartner.createdCallback = function() {
			var shadow = this.createShadowRoot();
			var t = CsPartnerTemplate;
			t = applyTemplate(this, t, "color");
			t = applyTemplate(this, t, "url");
			while (t.lastIndexOf("{{name}}") != -1) {
				t = t.replace("{{name}}", this.innerHTML);
			}
			var format = "png";
			if (this.hasAttribute("format")) {
				format = this.getAttribute("format");
			}
			t = t.replace("{{format}}", format);
			shadow.innerHTML = t;
		};
		
		document.registerElement("cs-partner", { prototype : CsPartner });
	</script>
</html>
